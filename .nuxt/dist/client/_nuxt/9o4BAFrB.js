import{_ as pe}from"./Dxs7FzeS.js";import{g as ae,r as u,j as C,k as me,c as v,o as b,a as e,n as M,F as V,l as G,m as ge,p as a,t as c,q as xe,s as he,v as we,x as N,b as ee,w as _e,d as ye,y as ke}from"#entry";import{_ as je}from"./DlAUqK2U.js";const Ae={class:"w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg mx-auto"},Ce={class:"p-3 border-[12px] border-orange-500 rounded-2xl bg-transparent"},Ee=["onClick"],Ie=ae({__name:"BoggleBoard",props:{board:{},disabled:{type:Boolean},blurred:{type:Boolean},selected:{}},emits:["cell-click"],setup(l,{emit:o}){const r=l,f=o,i=u([]),p=C(()=>new Set(r.selected??[]));function m(){const d=[0,90,180,270];i.value=r.board.map(()=>d[Math.floor(Math.random()*d.length)])}me(()=>r.board,()=>m(),{immediate:!0});function g(d){r.disabled||f("cell-click",d)}return(d,E)=>(b(),v("div",Ae,[e("div",Ce,[e("div",{class:M(["grid grid-cols-4 gap-2 select-none transition filter",{"blur-md":d.blurred}])},[(b(!0),v(V,null,G(d.board,(_,y)=>(b(),v("button",{key:y,type:"button",class:M(["aspect-square rounded-lg bg-white border border-slate-300 grid place-items-center text-2xl sm:text-3xl font-extrabold tracking-wide text-black focus:outline-none",[d.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer hover:shadow",a(p).has(y)?"ring-4 ring-emerald-500 bg-emerald-100":""]]),style:ge({transform:`rotate(${a(i)[y]??0}deg)`}),onClick:k=>g(y)},c(_),15,Ee))),128))],2)])]))}}),Ne=["DOM","KUCA","KUĆA","KUĆA","RIBA","MORE","PLAN","STAN","GRAD","VODA","ZORA","ZUB","ZBUN","TRAVA","STOL","STOLAC","KRUG","SUNCE","MJESEC","ZVIJEZDA","ZVEZDA","LJUBAV","NJIVA","DŽEM","DŽEPNI","DŽEP","NJEGOV","LJETO","LJESTVE","LJILJAN","JABUKA","KRUH","KRUŠKA","KRUŽNO","ŠUMA","ŠUPA","ŠEĆER","SECER","ŽIRAFA","ŽELJA","ŽELJA","ČOVJEK","COVJEK","ĆUP","DJETE","DIJETE","IGRA","IGRATI","PISMO","PISATI","KNJIGA","KNJIGE","BRDO","POLJE","PUT","PUTOVANJE","RJEKA","RIJEKA","PTICA","PTICE","HLJEB","ZUBAR","DAN","DANI","NOĆ","NOC","SNIJEG","SNEG","LED","HLADNO","TOPLO","VATRA","DIM","TLO","ZEMLJA","NEBO"];function se(l){return(l||"").trim().toUpperCase()}const Re=new Set(Ne.map(se));function Se(l){const o=se(l);return!o||o.length<3?!1:Re.has(o)}const Pe="https://hr.wiktionary.org/w/api.php",U=new Map;async function Oe(l){const o=(l||"").trim();if(!o)return!1;const r=o.toLowerCase();if(U.has(r))return U.get(r);const f=Be([o.toLowerCase(),Le(o.toLowerCase()),o.toUpperCase()]);for(const i of f)try{const p=`${Pe}?action=query&format=json&origin=*&titles=${encodeURIComponent(i)}`,m=await fetch(p);if(!m.ok)continue;const d=(await m.json())?.query?.pages;if(d&&typeof d=="object"&&Object.values(d).some(_=>_&&!("missing"in _)))return U.set(r,!0),!0}catch{}return U.set(r,!1),!1}let L=null,B=null;async function Je(l){try{const o=await fetch(l);return o.ok?await o.json():null}catch{return null}}async function Te(){return L||B||(B=(async()=>{const l=["/croatian_words.json","/croatian_words_extended.json","/croatian_words_inflections.json"],o=await Promise.all(l.map(Je)),r=new Set;for(const f of o)if(Array.isArray(f))for(const i of f)typeof i=="string"&&r.add(i);return r.size===0?null:(L=r,L)})(),B)}function De(l){return(l||"").trim().toUpperCase()}async function Ue(l){const o=De(l),r=await Te();if(r&&r.has(o)||Se(o))return!0;try{return await Oe(o)}catch{return!1}}function Le(l){return l&&l[0].toUpperCase()+l.slice(1)}function Be(l){return Array.from(new Set(l))}const Ve={class:"min-h-screen p-4 sm:p-6"},Me={class:"max-w-3xl mx-auto"},Ke={class:"flex items-center justify-between mb-4"},ze={class:"bg-slate-800/70 rounded-xl p-4 sm:p-6 border border-slate-700"},$e={class:"hidden sm:flex items-center justify-between gap-2 mb-4"},Ge={class:"flex items-center gap-3"},Ze={class:"flex items-center gap-2"},We=["disabled"],qe={class:"sm:hidden flex items-center justify-center gap-3 mb-3"},He={class:"grid place-items-center py-2 relative"},Fe={key:0,class:"absolute inset-0 grid place-items-center"},Ye={class:"text-6xl sm:text-7xl font-black text-white/90 drop-shadow-[0_2px_8px_rgba(0,0,0,0.6)]"},Qe={key:1,class:"absolute inset-0 grid place-items-center"},Xe={key:2,class:"absolute inset-0 grid place-items-center"},et={class:"mt-4 flex items-center justify-center gap-2"},tt=["disabled"],at=["disabled"],st={class:"sm:hidden mt-6 flex items-center justify-center gap-2"},ot=["disabled"],nt={class:"mt-4 text-center text-lg text-slate-200"},lt={class:"ml-2 font-bold"},it={key:0,class:"block mt-1 text-sm text-red-400"},rt={key:0,class:"fixed inset-0 z-50"},dt={class:"absolute inset-0 grid place-items-center p-4"},ct={class:"w-full max-w-2xl bg-slate-900 border border-slate-700 rounded-2xl shadow-xl overflow-hidden"},ut={class:"flex items-center justify-between px-5 py-4 border-b border-slate-700"},vt={key:1,class:"fixed inset-0 z-50"},bt={class:"absolute inset-0 grid place-items-center p-4"},ft={class:"w-full max-w-xl bg-slate-900 border border-slate-700 rounded-2xl shadow-xl overflow-hidden"},pt={class:"flex items-center justify-between px-5 py-4 border-b border-slate-700"},mt={class:"text-xl font-bold"},gt={class:"p-5 max-h-[70vh] overflow-auto"},xt={key:0,class:"text-slate-300"},ht={key:1,class:"space-y-2"},wt={class:"font-semibold"},_t={class:"text-slate-300"},yt={key:2,class:"fixed inset-0 z-50"},kt={class:"absolute inset-0 grid place-items-center p-4"},jt={class:"w-full max-w-xl bg-slate-900 border border-slate-700 rounded-2xl shadow-xl overflow-hidden"},At={class:"p-5 space-y-4 max-h-[70vh] overflow-auto"},Ct={class:"flex items-center justify-between"},Et={class:"text-xl font-bold"},It={class:"flex items-center justify-between"},Nt={class:"text-xl font-bold text-emerald-400"},Rt={class:"space-y-1"},St={class:"font-semibold"},Pt={class:"text-slate-300"},te=4,Ot=ae({__name:"game",setup(l){const o=u([]),r=u(180),f=u(r.value),i=u(!1),p=u(!1),m=u(!1),g=u(!0),d=u(3),E=u(!1),_=u(!1),y=u(!1),k=u([]),R=u(new Set),w=u([]),j=u(""),K=C(()=>f.value<=20&&!p.value),S=u(!1),oe=C(()=>w.value.length>0);let P=null,O=null,I=null;xe(()=>{z()}),he(()=>q());function z(){q(),o.value=we(),f.value=r.value,p.value=!1,i.value=!1,k.value=[],R.value=new Set,w.value=[],y.value=!1,_.value=!1,g.value=!0,m.value=!1,d.value=3}function Z(){p.value||(i.value=!i.value,i.value?(J(),T()):W())}function W(){J(),P=window.setInterval(()=>{i.value||f.value>0&&(f.value-=1,f.value===20&&le(),f.value===0&&(p.value=!0,T(),J(),y.value=!0))},1e3)}function J(){P&&(clearInterval(P),P=null)}function q(){J(),T(),I&&(clearInterval(I),I=null)}function ne(){m.value||!g.value||(m.value=!0,g.value=!1,d.value=3,I=window.setInterval(()=>{d.value>1?d.value-=1:(clearInterval(I),I=null,m.value=!1,W())},1e3))}let A=null;function le(){if(T(),!A)try{A=new(window.AudioContext||window.webkitAudioContext)}catch{}A&&(O=window.setInterval(()=>{!K.value||i.value||p.value||ie(480,.12)},1e3))}function T(){O&&(clearInterval(O),O=null)}function ie(s,t){if(!A)return;const x=A.currentTime,n=A.createOscillator(),h=A.createGain();n.type="square",n.frequency.value=s,h.gain.setValueAtTime(.001,x),h.gain.exponentialRampToValueAtTime(.2,x+.01),h.gain.exponentialRampToValueAtTime(.001,x+t),n.connect(h),h.connect(A.destination),n.start(x),n.stop(x+t+.02)}const H=C(()=>String(Math.floor(f.value/60)).padStart(2,"0")),F=C(()=>String(f.value%60).padStart(2,"0"));function Y(s){return{r:Math.floor(s/te),c:s%te}}function re(s,t){const x=Y(s),n=Y(t),h=Math.abs(x.r-n.r),X=Math.abs(x.c-n.c);return(h!==0||X!==0)&&h<=1&&X<=1}function de(s){if(j.value="",g.value||m.value||i.value||p.value)return;const t=w.value,x=t[t.length-1],n=t.indexOf(s);if(n!==-1){n===t.length-1&&t.pop();return}(t.length===0||re(x,s))&&t.push(s)}const D=C(()=>w.value.map(s=>o.value[s]).join("")),ce=C(()=>D.value.length>=3&&!R.value.has(D.value));function $(s){return s>=8?11:s===7?5:s===6?4:s===5?3:s===4?2:s===3?1:0}const ue=C(()=>k.value.reduce((s,t)=>s+$(t.length),0));async function ve(){const s=D.value;if(s.length<3){j.value="Riječ mora imati najmanje 3 slova.",w.value=[];return}if(R.value.has(s)){j.value="Riječ je već dodana.",w.value=[];return}S.value=!0;try{if(!await Ue(s)){j.value="Riječ nije pronađena u rječniku.",w.value=[];return}k.value.push(s),R.value.add(s),w.value=[]}catch{j.value="Greška pri provjeri riječi.",w.value=[]}finally{S.value=!1}}function be(){y.value=!1,z()}function fe(){w.value=[],j.value=""}function Q(){(!g.value||m.value||i.value)&&!p.value&&f.value>0&&!window.confirm("Prekinuti trenutnu igru i započeti novu?")||z()}return(s,t)=>{const x=pe;return b(),v(V,null,[e("div",Ve,[e("div",Me,[e("div",Ke,[ee(x,{to:"/",class:"text-slate-300 hover:text-white"},{default:_e(()=>[...t[7]||(t[7]=[ye("← Nova igra",-1)])]),_:1}),t[8]||(t[8]=e("h1",{class:"text-2xl font-bold"},"Boggle",-1)),t[9]||(t[9]=e("div",{class:"w-24"},null,-1))]),e("div",ze,[e("div",$e,[e("div",Ge,[t[10]||(t[10]=e("span",{class:"text-slate-300"},"Preostalo vreme:",-1)),e("span",{class:M(["text-2xl font-extrabold tabular-nums",a(K)?"text-red-400":"text-white"])},c(a(H))+":"+c(a(F)),3)]),e("div",Ze,[e("button",{class:"px-3 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 disabled:opacity-50",disabled:a(m)||a(g)||a(p),onClick:Z},c(a(i)?"Nastavi":"Pauziraj"),9,We),e("button",{class:"px-3 py-2 rounded-lg bg-brand hover:bg-brand-dark",onClick:Q},"Nova tabla"),e("button",{class:"px-3 py-2 rounded-lg bg-orange-600 hover:bg-orange-500",onClick:t[0]||(t[0]=n=>E.value=!0)},"Pravila")])]),e("div",qe,[t[11]||(t[11]=e("span",{class:"text-slate-300"},"Preostalo vreme:",-1)),e("span",{class:M(["text-2xl font-extrabold tabular-nums",a(K)?"text-red-400":"text-white"])},c(a(H))+":"+c(a(F)),3)]),e("div",He,[ee(Ie,{board:a(o),disabled:a(i)||a(p)||a(m)||a(g),blurred:a(i)||a(m)||a(g),selected:a(w),onCellClick:de},null,8,["board","disabled","blurred","selected"]),a(m)?(b(),v("div",Fe,[e("div",Ye,c(a(d)),1)])):a(g)?(b(),v("div",Qe,[e("button",{class:"px-6 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-bold text-xl shadow-lg",onClick:ne}," Kreni ")])):a(i)&&!a(p)?(b(),v("div",Xe,[...t[12]||(t[12]=[e("div",{class:"px-4 py-2 rounded-xl bg-slate-900/70 border border-slate-700 text-white font-semibold"}," Pauzirano ",-1)])])):N("",!0)]),e("div",et,[e("button",{class:"px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50",disabled:!a(ce)||a(S),onClick:ve},c(a(S)?"Provjera…":"Dodaj"),9,tt),e("button",{class:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 disabled:opacity-50",disabled:!a(oe),onClick:fe},"Poništi",8,at),e("button",{class:"px-4 py-2 rounded-lg bg-slate-600 hover:bg-slate-500",onClick:t[1]||(t[1]=n=>_.value=!0)},"Riječi")]),e("div",st,[e("button",{class:"px-3 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 disabled:opacity-50",disabled:a(m)||a(g)||a(p),onClick:Z},c(a(i)?"Nastavi":"Pauziraj"),9,ot),e("button",{class:"px-3 py-2 rounded-lg bg-brand hover:bg-brand-dark",onClick:Q},"Nova tabla"),e("button",{class:"px-3 py-2 rounded-lg bg-orange-600 hover:bg-orange-500",onClick:t[2]||(t[2]=n=>E.value=!0)},"Pravila")]),e("div",nt,[t[13]||(t[13]=e("span",{class:"opacity-75"},"Riječ:",-1)),e("span",lt,c(a(D)||"—"),1),a(j)?(b(),v("span",it,c(a(j)),1)):N("",!0)])])])]),a(E)?(b(),v("div",rt,[e("div",{class:"absolute inset-0 bg-black/60",onClick:t[3]||(t[3]=n=>E.value=!1)}),e("div",dt,[e("div",ct,[e("div",ut,[t[14]||(t[14]=e("h2",{class:"text-xl font-bold"},"Pravila",-1)),e("button",{class:"px-3 py-1 rounded-md bg-slate-700 hover:bg-slate-600",onClick:t[4]||(t[4]=n=>E.value=!1)},"Zatvori")]),t[15]||(t[15]=ke('<div class="p-5 space-y-4 max-h-[70vh] overflow-auto text-slate-200" data-v-272caa2b><div data-v-272caa2b><h3 class="font-semibold mb-2" data-v-272caa2b>Pravilnik za bodovanje riječi u hrvatskom Boggleu</h3><h4 class="font-semibold" data-v-272caa2b>1. Osnovna pravila</h4><ul class="list-disc pl-6 space-y-1" data-v-272caa2b><li data-v-272caa2b>Riječ mora biti sastavljena od najmanje 3 slova.</li><li data-v-272caa2b>Riječi se tvore povezivanjem susjednih slova na ploči (okomito, vodoravno, dijagonalno).</li><li data-v-272caa2b>Svako polje može se koristiti samo jednom u istoj riječi.</li><li data-v-272caa2b>Dopuštena su i dvoslovna slova (LJ, NJ, DŽ) – računaju se kao jedno slovo/polje.</li><li data-v-272caa2b>Imena, kratice i strane riječi se ne priznaju, osim ako su uvrštene u standardne hrvatske rječnike.</li></ul></div><div data-v-272caa2b><h4 class="font-semibold" data-v-272caa2b>2. Bodovanje prema duljini riječi</h4><ul class="list-disc pl-6 space-y-1" data-v-272caa2b><li data-v-272caa2b>3 slova – 1 bod</li><li data-v-272caa2b>4 slova – 2 boda</li><li data-v-272caa2b>5 slova – 3 boda</li><li data-v-272caa2b>6 slova – 4 boda</li><li data-v-272caa2b>7 slova – 5 bodova</li><li data-v-272caa2b>8+ slova – 11 bodova</li></ul></div></div>',1))])])])):N("",!0),a(_)?(b(),v("div",vt,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[5]||(t[5]=n=>_.value=!1)}),e("div",bt,[e("div",ft,[e("div",pt,[e("h2",mt,"Riječi ("+c(a(k).length)+")",1),e("button",{class:"px-3 py-1 rounded-md bg-slate-700 hover:bg-slate-600",onClick:t[6]||(t[6]=n=>_.value=!1)},"Zatvori")]),e("div",gt,[a(k).length?(b(),v("ul",ht,[(b(!0),v(V,null,G(a(k),(n,h)=>(b(),v("li",{key:h,class:"flex items-center justify-between bg-slate-800/60 rounded-lg px-3 py-2"},[e("span",wt,c(n),1),e("span",_t,c($(n.length))+" bod(ova)",1)]))),128))])):(b(),v("div",xt,"Nema dodanih riječi."))])])])])):N("",!0),a(y)?(b(),v("div",yt,[t[20]||(t[20]=e("div",{class:"absolute inset-0 bg-black/60"},null,-1)),e("div",kt,[e("div",jt,[t[19]||(t[19]=e("div",{class:"px-5 py-4 border-b border-slate-700"},[e("h2",{class:"text-xl font-bold"},"Vrijeme je isteklo!")],-1)),e("div",At,[e("div",Ct,[t[16]||(t[16]=e("span",{class:"text-lg"},"Ukupan broj riječi:",-1)),e("span",Et,c(a(k).length),1)]),e("div",It,[t[17]||(t[17]=e("span",{class:"text-lg"},"Ukupni bodovi:",-1)),e("span",Nt,c(a(ue)),1)]),e("div",null,[t[18]||(t[18]=e("h3",{class:"font-semibold mb-2"},"Popis riječi",-1)),e("ul",Rt,[(b(!0),v(V,null,G(a(k),(n,h)=>(b(),v("li",{key:h,class:"flex items-center justify-between bg-slate-800/60 rounded-lg px-3 py-2"},[e("span",St,c(n),1),e("span",Pt,c($(n.length))+" bod(ova)",1)]))),128))])]),e("div",{class:"pt-2 text-center"},[e("button",{class:"px-5 py-2 rounded-lg bg-brand hover:bg-brand-dark font-semibold",onClick:be},"Nova igra")])])])])])):N("",!0)],64)}}}),Ut=je(Ot,[["__scopeId","data-v-272caa2b"]]);export{Ut as default};
