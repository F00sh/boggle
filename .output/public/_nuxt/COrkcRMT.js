import{_ as q}from"./DPczl_Cb.js";import{g as S,c as m,o as v,F as E,r as P,n as V,t as h,j as p,k,l as R,m as F,a,b as M,w as G,d as J,p as z,q as i}from"#entry";import{_ as H}from"./DlAUqK2U.js";const O={class:"grid grid-cols-4 gap-2 select-none"},U=S({__name:"BoggleBoard",props:{board:{},disabled:{type:Boolean}},setup(c){return(e,s)=>(v(),m("div",O,[(v(!0),m(E,null,P(e.board,(t,n)=>(v(),m("div",{key:n,class:V(["aspect-square rounded-xl bg-slate-800 border border-slate-700 grid place-items-center text-2xl sm:text-3xl font-extrabold tracking-wide",{"opacity-50":e.disabled}])},h(t),3))),128))]))}}),N=["A","B","C","Č","Ć","D","Đ","DŽ","E","F","G","H","I","J","K","L","LJ","M","N","NJ","O","P","R","S","Š","T","U","V","Z","Ž"];function $(c){const e=Z(Math.floor(Math.random()*2147483648)),s=new Map,t=[];for(;t.length<16;){const n=N[Math.floor(e()*N.length)],l=s.get(n)??0;l<3&&(s.set(n,l+1),t.push(n))}return K(t,e)}function K(c,e){const s=c.slice();for(let t=s.length-1;t>0;t--){const n=Math.floor(e()*(t+1));[s[t],s[n]]=[s[n],s[t]]}return s}function Z(c){return function(){let e=c+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}const Q={class:"min-h-screen p-4 sm:p-6"},W={class:"max-w-3xl mx-auto"},X={class:"flex items-center justify-between mb-4"},Y={class:"bg-slate-800/70 rounded-xl p-4 sm:p-6 border border-slate-700"},ee={class:"flex items-center justify-between gap-2 mb-4"},te={class:"flex items-center gap-3"},ne={class:"flex items-center gap-2"},ae={class:"grid place-items-center py-2"},se={key:0,class:"mt-4 text-center"},oe=S({__name:"game",setup(c){const e=p([]),s=p(180),t=p(s.value),n=p(!1),l=p(!1),y=k(()=>t.value<=20&&!l.value);let g=null,b=null;R(()=>{w()}),F(()=>C());function w(){C(),e.value=$(),t.value=s.value,l.value=!1,n.value=!1,T()}function I(){l.value||(n.value=!n.value,n.value?(x(),_()):T())}function T(){x(),g=window.setInterval(()=>{n.value||t.value>0&&(t.value-=1,t.value===20&&j(),t.value===0&&(l.value=!0,_(),x()))},1e3)}function x(){g&&(clearInterval(g),g=null)}function C(){x(),_()}let r=null;function j(){if(_(),!r)try{r=new(window.AudioContext||window.webkitAudioContext)}catch{}r&&(b=window.setInterval(()=>{!y.value||n.value||l.value||A(480,.12)},1e3))}function _(){b&&(clearInterval(b),b=null)}function A(B,o){if(!r)return;const u=r.currentTime,d=r.createOscillator(),f=r.createGain();d.type="square",d.frequency.value=B,f.gain.setValueAtTime(.001,u),f.gain.exponentialRampToValueAtTime(.2,u+.01),f.gain.exponentialRampToValueAtTime(.001,u+o),d.connect(f),f.connect(r.destination),d.start(u),d.stop(u+o+.02)}const D=k(()=>String(Math.floor(t.value/60)).padStart(2,"0")),L=k(()=>String(t.value%60).padStart(2,"0"));return(B,o)=>{const u=q;return v(),m("div",Q,[a("div",W,[a("div",X,[M(u,{to:"/",class:"text-slate-300 hover:text-white"},{default:G(()=>[...o[0]||(o[0]=[J("← Nova igra",-1)])]),_:1}),o[1]||(o[1]=a("h1",{class:"text-2xl font-bold"},"Boggle",-1)),o[2]||(o[2]=a("div",{class:"w-24"},null,-1))]),a("div",Y,[a("div",ee,[a("div",te,[o[3]||(o[3]=a("span",{class:"text-slate-300"},"Preostalo vreme:",-1)),a("span",{class:V(["text-2xl font-extrabold tabular-nums",i(y)?"text-red-400":"text-white"])},h(i(D))+":"+h(i(L)),3)]),a("div",ne,[a("button",{class:"px-3 py-2 rounded-lg bg-slate-700 hover:bg-slate-600",onClick:I},h(i(n)?"Nastavi":"Pauziraj"),1),a("button",{class:"px-3 py-2 rounded-lg bg-brand hover:bg-brand-dark",onClick:w},"Nova tabla")])]),a("div",ae,[M(U,{board:i(e),disabled:i(n)||i(l)},null,8,["board","disabled"])]),i(l)?(v(),m("div",se,[o[4]||(o[4]=a("p",{class:"text-xl font-semibold mb-3"},"Vreme je isteklo!",-1)),a("button",{class:"px-4 py-2 rounded-lg bg-brand hover:bg-brand-dark",onClick:w},"Igraj ponovo")])):z("",!0)])])])}}}),ue=H(oe,[["__scopeId","data-v-85686f25"]]);export{ue as default};
